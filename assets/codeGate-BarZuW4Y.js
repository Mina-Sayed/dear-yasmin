const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slideshow-Cw5VFrNq.js","assets/index-DJyayeK3.js","assets/index-Bwl-VxQ_.css"])))=>i.map(i=>d[i]);
import{i as e,n as t,r as n}from"./index-DJyayeK3.js";var r=class{sm;currentInput=``;keyHandlers=[];constructor(e){this.sm=e}enter(){n.showScreen(`code-screen`),this.currentInput=``,this.updateDisplay(),this.keyHandlers=[],document.querySelectorAll(`.key-btn`).forEach(e=>{let t=e=>{let t=e.target.getAttribute(`data-val`);t&&(t===`del`?this.currentInput=this.currentInput.slice(0,-1):t===`ok`?this.checkCode():this.currentInput.length<8&&(this.currentInput+=t),this.sm.audio.play(`click`),this.updateDisplay())};e.onclick=t,this.keyHandlers.push({el:e,handler:t})})}updateDisplay(){let e=document.getElementById(`code-display`);if(e){let t=``;for(let e=0;e<this.currentInput.length;e++)t+=`❤️`;this.currentInput.length===0&&(t=`Enter Secret Code`),e.innerText=t}}checkCode(){if(this.currentInput===e.secretCode)this.sm.audio.play(`win`),t(async()=>{let{SlideshowState:e}=await import(`./slideshow-Cw5VFrNq.js`);return{SlideshowState:e}},__vite__mapDeps([0,1,2])).then(({SlideshowState:e})=>{this.sm.changeState(new e(this.sm))});else{this.sm.audio.play(`error`);let e=document.getElementById(`code-container`);e&&(e.classList.remove(`shake`),e.offsetWidth,e.classList.add(`shake`)),this.currentInput=``,setTimeout(()=>this.updateDisplay(),500)}}update(e){}draw(e){e.clear(`#111`)}resize(e,t){}exit(){this.keyHandlers.forEach(({el:e})=>{e.onclick=null}),this.keyHandlers=[],n.hideScreen(`code-screen`)}};export{r as CodeState};