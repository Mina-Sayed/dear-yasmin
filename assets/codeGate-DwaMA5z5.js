const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slideshow-DJKDbLM3.js","assets/index-jLunBMvU.js","assets/index-BuF_uRMX.css"])))=>i.map(i=>d[i]);
var o=Object.defineProperty;var l=(s,e,t)=>e in s?o(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var r=(s,e,t)=>l(s,typeof e!="symbol"?e+"":e,t);import{U as a,G as d,_ as h}from"./index-jLunBMvU.js";class y{constructor(e){r(this,"sm");r(this,"currentInput","");r(this,"keyHandlers",[]);this.sm=e}enter(){a.showScreen("code-screen"),this.currentInput="",this.updateDisplay(),this.keyHandlers=[],document.querySelectorAll(".key-btn").forEach(t=>{const i=c=>{const n=c.target.getAttribute("data-val");n&&(n==="del"?this.currentInput=this.currentInput.slice(0,-1):n==="ok"?this.checkCode():this.currentInput.length<8&&(this.currentInput+=n),this.sm.audio.play("click"),this.updateDisplay())};t.onclick=i,this.keyHandlers.push({el:t,handler:i})})}updateDisplay(){const e=document.getElementById("code-display");if(e){let t="";for(let i=0;i<this.currentInput.length;i++)t+="❤️";this.currentInput.length===0&&(t="Enter Secret Code"),e.innerText=t}}checkCode(){if(this.currentInput===d.secretCode)this.sm.audio.play("win"),h(async()=>{const{SlideshowState:e}=await import("./slideshow-DJKDbLM3.js");return{SlideshowState:e}},__vite__mapDeps([0,1,2])).then(({SlideshowState:e})=>{this.sm.changeState(new e(this.sm))});else{this.sm.audio.play("error");const e=document.getElementById("code-container");e&&(e.classList.remove("shake"),e.offsetWidth,e.classList.add("shake")),this.currentInput="",setTimeout(()=>this.updateDisplay(),500)}}update(e){}draw(e){e.clear("#111")}resize(e,t){}exit(){this.keyHandlers.forEach(({el:e})=>{e.onclick=null}),this.keyHandlers=[],a.hideScreen("code-screen")}}export{y as CodeState};
